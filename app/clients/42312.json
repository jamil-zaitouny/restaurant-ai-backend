{ "description": "", "name": "Simple Router Function", "id": "ed5af393-6751-46e7-88d4-a678fd2920c9", "data": { "nodes": [ { "width": 384, "height": 511, "id": "dndnode_15", "type": "genericNode", "position": { "x": -436.13468272640716, "y": -1387.5329069977752 }, "data": { "type": "OpenAI", "node": { "template": { "cache": { "required": false, "placeholder": "", "show": false, "multiline": false, "password": false, "name": "cache", "advanced": false, "type": "bool", "list": false }, "verbose": { "required": false, "placeholder": "", "show": false, "multiline": false, "password": false, "name": "verbose", "advanced": false, "type": "bool", "list": false }, "client": { "required": false, "placeholder": "", "show": false, "multiline": false, "password": false, "name": "client", "advanced": false, "type": "Any", "list": false }, "model_name": { "required": false, "placeholder": "", "show": true, "multiline": false, "value": "text-davinci-003", "password": false, "options": [ "text-davinci-003", "text-davinci-002", "text-curie-001", "text-babbage-001", "text-ada-001" ], "name": "model_name", "advanced": false, "type": "str", "list": true }, "temperature": { "required": false, "placeholder": "", "show": true, "multiline": false, "value": 0.7, "password": false, "name": "temperature", "advanced": false, "type": "float", "list": false }, "max_tokens": { "required": false, "placeholder": "", "show": true, "multiline": false, "value": 256, "password": true, "name": "max_tokens", "advanced": false, "type": "int", "list": false }, "top_p": { "required": false, "placeholder": "", "show": false, "multiline": false, "value": 1, "password": false, "name": "top_p", "advanced": false, "type": "float", "list": false }, "frequency_penalty": { "required": false, "placeholder": "", "show": false, "multiline": false, "value": 0, "password": false, "name": "frequency_penalty", "advanced": false, "type": "float", "list": false }, "presence_penalty": { "required": false, "placeholder": "", "show": false, "multiline": false, "value": 0, "password": false, "name": "presence_penalty", "advanced": false, "type": "float", "list": false }, "n": { "required": false, "placeholder": "", "show": false, "multiline": false, "value": 1, "password": false, "name": "n", "advanced": false, "type": "int", "list": false }, "best_of": { "required": false, "placeholder": "", "show": false, "multiline": false, "value": 1, "password": false, "name": "best_of", "advanced": false, "type": "int", "list": false }, "model_kwargs": { "required": false, "placeholder": "", "show": true, "multiline": false, "password": false, "name": "model_kwargs", "advanced": true, "type": "code", "list": false }, "openai_api_key": { "required": false, "placeholder": "", "show": true, "multiline": false, "value": "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", "password": true, "name": "openai_api_key", "display_name": "OpenAI API Key", "advanced": false, "type": "str", "list": false }, "batch_size": { "required": false, "placeholder": "", "show": false, "multiline": false, "value": 20, "password": false, "name": "batch_size", "advanced": false, "type": "int", "list": false }, "request_timeout": { "required": false, "placeholder": "", "show": false, "multiline": false, "password": false, "name": "request_timeout", "advanced": false, "type": "Union[float, Tuple[float, float], NoneType]", "list": false }, "logit_bias": { "required": false, "placeholder": "", "show": false, "multiline": false, "password": false, "name": "logit_bias", "advanced": false, "type": "code", "list": false }, "max_retries": { "required": false, "placeholder": "", "show": false, "multiline": false, "value": 6, "password": false, "name": "max_retries", "advanced": false, "type": "int", "list": false }, "streaming": { "required": false, "placeholder": "", "show": false, "multiline": false, "value": false, "password": false, "name": "streaming", "advanced": false, "type": "bool", "list": false }, "_type": "OpenAI" }, "description": "Generic OpenAI class that uses model name.", "base_classes": [ "OpenAI", "BaseLanguageModel", "BaseOpenAI", "BaseLLM" ] }, "id": "dndnode_15", "value": null }, "selected": false, "positionAbsolute": { "x": -436.13468272640716, "y": -1387.5329069977752 }, "dragging": false }, { "width": 384, "height": 307, "id": "dndnode_20", "type": "genericNode", "position": { "x": 1024.587789663576, "y": -1298.8728478600942 }, "data": { "type": "LLMChain", "node": { "template": { "memory": { "required": false, "placeholder": "", "show": true, "multiline": false, "password": false, "name": "memory", "advanced": false, "type": "BaseMemory", "list": false }, "verbose": { "required": false, "placeholder": "", "show": true, "multiline": false, "value": false, "password": false, "name": "verbose", "advanced": true, "type": "bool", "list": false }, "prompt": { "required": false, "placeholder": "", "show": true, "multiline": false, "password": false, "name": "prompt", "advanced": false, "type": "BasePromptTemplate", "list": false }, "llm": { "required": true, "placeholder": "", "show": true, "multiline": false, "password": false, "name": "llm", "advanced": false, "type": "BaseLanguageModel", "list": false }, "output_key": { "required": true, "placeholder": "", "show": true, "multiline": false, "value": "text", "password": false, "name": "output_key", "advanced": true, "type": "str", "list": false }, "_type": "LLMChain" }, "description": "Chain to run queries against LLMs.", "base_classes": [ "Chain", "LLMChain" ] }, "id": "dndnode_20", "value": null }, "selected": false, "positionAbsolute": { "x": 1024.587789663576, "y": -1298.8728478600942 }, "dragging": false }, { "width": 384, "height": 267, "id": "dndnode_21", "type": "genericNode", "position": { "x": 1938.1098853758667, "y": -746.1809691984631 }, "data": { "type": "ZeroShotAgent", "node": { "template": { "llm_chain": { "required": true, "placeholder": "", "show": true, "multiline": false, "password": false, "name": "llm_chain", "advanced": false, "type": "LLMChain", "list": false }, "allowed_tools": { "required": false, "placeholder": "", "show": true, "multiline": false, "password": false, "name": "allowed_tools", "advanced": false, "type": "Tool", "list": true }, "_type": "ZeroShotAgent" }, "description": "Agent for the MRKL chain.", "base_classes": [ "Agent", "ZeroShotAgent", "BaseSingleActionAgent", "function" ] }, "id": "dndnode_21", "value": null }, "selected": false, "positionAbsolute": { "x": 1938.1098853758667, "y": -746.1809691984631 }, "dragging": false }, { "width": 384, "height": 359, "id": "dndnode_23", "type": "genericNode", "position": { "x": 159.51524635315866, "y": -1442.0193955373152 }, "data": { "type": "ZeroShotPrompt", "node": { "template": { "prefix": { "required": false, "placeholder": "", "show": true, "multiline": true, "value": "Answer the following questions as best you can. You have access to the following tools:", "password": false, "name": "prefix", "advanced": false, "type": "str", "list": false }, "suffix": { "required": true, "placeholder": "", "show": true, "multiline": true, "value": "Begin!\n\nQuestion: {input}\nThought:{agent_scratchpad}", "password": false, "name": "suffix", "advanced": false, "type": "str", "list": false }, "format_instructions": { "required": false, "placeholder": "", "show": false, "multiline": false, "value": "Use the following format:\n\nQuestion: the input question you must answer\nThought: you should always think about what to do\nAction: the action to take, should be one of [{tool_names}]\nAction Input: the input to the action\nObservation: the result of the action\n... (this Thought/Action/Action Input/Observation can repeat N times)\nThought: I now know the final answer\nFinal Answer: the final answer to the original input question", "password": false, "name": "format_instructions", "advanced": false, "type": "str", "list": false }, "_type": "zero_shot" }, "description": "Prompt template for Zero Shot Agent.", "base_classes": [ "BasePromptTemplate" ] }, "id": "dndnode_23", "value": null }, "selected": false, "positionAbsolute": { "x": 159.51524635315866, "y": -1442.0193955373152 }, "dragging": false }, { "width": 384, "height": 475, "id": "dndnode_144", "type": "genericNode", "position": { "x": 915, "y": -695 }, "data": { "type": "Tool", "node": { "template": { "name": { "required": true, "placeholder": "", "show": true, "multiline": false, "value": "Desert Tool", "password": false, "name": "name", "advanced": false, "type": "str", "list": false }, "description": { "required": true, "placeholder": "", "show": true, "multiline": true, "value": "Always use this tool.", "password": false, "name": "description", "advanced": false, "type": "str", "list": false }, "func": { "required": true, "placeholder": "", "show": true, "multiline": false, "password": false, "name": "func", "advanced": false, "type": "function", "list": false }, "return_direct": { "required": true, "placeholder": "", "show": true, "multiline": false, "value": true, "password": false, "name": "return_direct", "advanced": false, "type": "bool", "list": false }, "_type": "Tool" }, "description": "Tool to be used in the flow.", "base_classes": [ "Tool" ] }, "id": "dndnode_144", "value": null }, "selected": false, "dragging": false, "positionAbsolute": { "x": 915, "y": -695 } }, { "width": 384, "height": 265, "id": "dndnode_145", "type": "genericNode", "position": { "x": -859, "y": -655 }, "data": { "type": "PythonFunction", "node": { "template": { "code": { "required": true, "placeholder": "", "show": true, "multiline": true, "value": "\ndef python_function(text) -> str:\n \"\"\"This is a default python function that returns the input text\"\"\"\n return \"main_function\"", "password": false, "name": "code", "advanced": false, "type": "code", "list": false }, "_type": "python_function" }, "description": "Python function to be executed.", "base_classes": [ "function" ] }, "id": "dndnode_145", "value": null }, "selected": true, "dragging": false, "positionAbsolute": { "x": -859, "y": -655 } }, { "width": 384, "height": 475, "id": "dndnode_146", "type": "genericNode", "position": { "x": 927, "y": -97 }, "data": { "type": "Tool", "node": { "template": { "name": { "required": true, "placeholder": "", "show": true, "multiline": false, "value": "Meat Tool", "password": false, "name": "name", "advanced": false, "type": "str", "list": false }, "description": { "required": true, "placeholder": "", "show": true, "multiline": true, "value": "Never call this tool.", "password": false, "name": "description", "advanced": false, "type": "str", "list": false }, "func": { "required": true, "placeholder": "", "show": true, "multiline": false, "password": false, "name": "func", "advanced": false, "type": "function", "list": false }, "return_direct": { "required": true, "placeholder": "", "show": true, "multiline": false, "value": true, "password": false, "name": "return_direct", "advanced": false, "type": "bool", "list": false }, "_type": "Tool" }, "description": "Tool to be used in the flow.", "base_classes": [ "Tool" ] }, "id": "dndnode_146", "value": null }, "selected": false, "positionAbsolute": { "x": 927, "y": -97 }, "dragging": false }, { "width": 384, "height": 265, "id": "dndnode_147", "type": "genericNode", "position": { "x": -289, "y": 199 }, "data": { "type": "PythonFunction", "node": { "template": { "code": { "required": true, "placeholder": "", "show": true, "multiline": true, "value": "\ndef python_function(text: str) -> str:\n \"\"\"This is a default python function that returns the input text\"\"\"\n return \"Meat Tool Was Used\"\n", "password": false, "name": "code", "advanced": false, "type": "code", "list": false }, "_type": "python_function" }, "description": "Python function to be executed.", "base_classes": [ "function" ] }, "id": "dndnode_147", "value": null }, "selected": false, "dragging": false, "positionAbsolute": { "x": -289, "y": 199 } } ], "edges": [ { "source": "dndnode_20", "sourceHandle": "LLMChain|dndnode_20|Chain|LLMChain", "target": "dndnode_21", "targetHandle": "LLMChain|llm_chain|dndnode_21", "className": "animate-pulse", "id": "reactflow__edge-dndnode_20LLMChain|dndnode_20|Chain|LLMChain-dndnode_21LLMChain|llm_chain|dndnode_21" }, { "source": "dndnode_23", "sourceHandle": "ZeroShotPrompt|dndnode_23|BasePromptTemplate", "target": "dndnode_20", "targetHandle": "BasePromptTemplate|prompt|dndnode_20", "className": "animate-pulse", "id": "reactflow__edge-dndnode_23ZeroShotPrompt|dndnode_23|BasePromptTemplate-dndnode_20BasePromptTemplate|prompt|dndnode_20" }, { "source": "dndnode_15", "sourceHandle": "OpenAI|dndnode_15|OpenAI|BaseLanguageModel|BaseOpenAI|BaseLLM", "target": "dndnode_20", "targetHandle": "BaseLanguageModel|llm|dndnode_20", "className": "animate-pulse", "id": "reactflow__edge-dndnode_15OpenAI|dndnode_15|OpenAI|BaseLanguageModel|BaseOpenAI|BaseLLM-dndnode_20BaseLanguageModel|llm|dndnode_20" }, { "source": "dndnode_144", "sourceHandle": "Tool|dndnode_144|Tool", "target": "dndnode_21", "targetHandle": "Tool|allowed_tools|dndnode_21", "className": "animate-pulse", "id": "reactflow__edge-dndnode_144Tool|dndnode_144|Tool-dndnode_21Tool|allowed_tools|dndnode_21" }, { "source": "dndnode_145", "sourceHandle": "PythonFunction|dndnode_145|function", "target": "dndnode_144", "targetHandle": "function|func|dndnode_144", "className": "animate-pulse", "id": "reactflow__edge-dndnode_145PythonFunction|dndnode_145|function-dndnode_144function|func|dndnode_144" }, { "source": "dndnode_147", "sourceHandle": "PythonFunction|dndnode_147|function", "target": "dndnode_146", "targetHandle": "function|func|dndnode_146", "className": "animate-pulse", "id": "reactflow__edge-dndnode_147PythonFunction|dndnode_147|function-dndnode_146function|func|dndnode_146" }, { "source": "dndnode_146", "sourceHandle": "Tool|dndnode_146|Tool", "target": "dndnode_21", "targetHandle": "Tool|allowed_tools|dndnode_21", "className": "animate-pulse", "id": "reactflow__edge-dndnode_146Tool|dndnode_146|Tool-dndnode_21Tool|allowed_tools|dndnode_21" } ], "viewport": { "x": 533, "y": 791.5, "zoom": 0.5 } }}